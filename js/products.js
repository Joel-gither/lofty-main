/*export const products = [{
    id:`34k 34k 1`,
    image:`img/mouse.jpg`,
    name: `Wireless HP Mouse`,
    rating:`img/rating.png`,
    price: 25000
},
{
    id:`34k 34k 2`,
    image:`img/speaker1.jpeg`,
    name: ` External Smart Outdoor Speakers`,
    rating:`img/rating.png`,
    price: 500000
},
{
    id:`34k 34k 3`,
    image:`img/pngwing.com (94).png`,
    name: `Toshiba external hard disk drive 500gb`,
    rating:`img/rating.png`,
    price: 50000
},
{
    id:`34k 34k 4`,
    image:`img/pngwing.com (89).png`,
    name: `Samsung refurbished 3150 i5 8gb ram, 500gb hdd`,
    rating:`img/rating.png`,
    price: 750000
},
{
    id:`34k 34k 5`,
    image:`img/copy machine.png`,
    name: `Bizhub 464E series Digital photocopying machine`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 6`,
    image:`img/pngwing.com (3).png`,
    name: `Epson Colored Printer and Black and white`,
    rating:`img/rating.png`,
    price: 2500000
},
{
    id:`34k 34k 7`,
    image:`img/pngwing.com (87).png`,
    name: `Charging adpter with usb type C `,
    rating:`img/rating.png`,
    price: 15000
},
{
    id:`34k 34k 8`,
    image:`img/speaker2.jpeg`,
    name: `Wireless Bluetooth speaker big base`,
    rating:`img/rating.png`,
    price: 250000
},
{
    id:`34k 34k 9`,
    image:`img/syscase.jpg`,
    name: `Dell core i5 1TB`,
    rating:`img/rating.png`,
    price: 8500000
},
{
    id:`34k 34k 10`,
    image:`img/pngwing.com (16).png`,
    name: `smart Watch Multi color wrists`,
    rating:`img/rating.png`,
    price: 30000
},
{
    id:`34k 34k 11`,
    image:`img/pngwing.com (88).png`,
    name: `Dell Intel i7, 16GB RAM, 500GB HDD`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 12`,
    image:`img/pngwing.com (89).png`,
    name: `Samsung Intel i3, 16GB RAM,250GB HDD`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 13`,
    image:`img/pngwing.com (90).png`,
    name: `Full set Duo Core 2, 8GB RAM, 500GB HDD`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 14`,
    image:`img/pngwing.com (7).png`,
    name: `DDR3 DDR2 Ram chips for Dasktop Computer`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 15`,
    image:`img/speaker1.jpeg`,
    name: `High Base out door speakers `,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 16`,
    image:`img/desk.jpg`,
    name: `MAC BOOK MacOS laptop refubished`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 17`,
    image:`img/syscase.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 18`,
    image:`img/pngwing.com (90).png`,
    name: `DELL DESKTOP FULL SET DUO CORE INTEL PROCESSOR`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 19`,
    image:`img/desk1.jpg`,
    name: `SAMSUNG CORE I5, 8GB RAM, 500GB HDD`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 20`,
    image:`img/pngwing.com (89).png`,
    name: `MAC BOOK MacOS laptop refubished`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 21`,
    image:`img/pngwing.com (92).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 22`,
    image:`img/pngwing.com (91).png`,
    name: `DELL DESKTOP FULL SET DUO CORE INTEL PROCESSOR`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 23`,
    image:`img/laptop1.jpg`,
    name: `SAMSUNG CORE I5, 8GB RAM, 500GB HDD`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 24`,
    image:`img/pngwing.com (12).png`,
    name: `MAC BOOK MacOS laptop refubished`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 25`,
    image:`img/pngwing.com (15).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 26`,
    image:`img/pngwing.com (8).png`,
    name: `DELL DESKTOP FULL SET DUO CORE INTEL PROCESSOR`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 27`,
    image:`img/pngwing.com (11).png`,
    name: `SAMSUNG CORE I5, 8GB RAM, 500GB HDD`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 28`,
    image:`img/pngwing.com (17).png`,
    name: `MAC BOOK MacOS laptop refubished`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 29`,
    image:`img/pngwing.com.png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 30`,
    image:`img/gadget.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 31`,
    image:`img/mouse.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 32`,
    image:`img/pngwing.com (4).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 33`,
    image:`img/printer.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 34`,
    image:`img/printer2.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 35`,
    image:`img/printer1.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 36`,
    image:`img/charger.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 37`,
    image:`img/charger1.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 38`,
    image:`img/pngwing.com (87).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 39`,
    image:`img/charger2.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 40`,
    image:`img/pngwing.com (92).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 41`,
    image:`img/pngwing.com (89).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 42`,
    image:`img/pngwing.com (86).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 43`,
    image:`img/pngwing.com (90).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 44`,
    image:`img/pngwing.com (87).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 45`,
    image:`img/pngwing.com (12).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 46`,
    image:`img/pngwing.com (7).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 47`,
    image:`img/pngwing.com (93).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 48`,
    image:`img/SAFEBODA.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 49`,
    image:`img/pngwing.com (89).png`,
    name: `Laptop Samsang 464E series Digital photocopying machine`,
    rating:`img/rating.png`,
    price: 100000
},
{
    id:`34k 34k 50`,
    image:`img/pngwing.com (85).png`,
    name: `Binding Machine 464E series Digital photocopying machine`,
    rating:`img/rating.png`,
    price: 300000
 
}];

 



const cartItems = [
    {
id: 1,
name: "Product A",
price: 25.0,
quantity:2,
image: "img/mouse.jpg"
    },
    {
        id: 2,
        name: "Product B",
        price: 40.00,
        quantity:2,
        image: "img/rating.png"
            },
            {
                id: 1,
                name: "Product C",
                price: 15.0,
                quantity:2,
                image: "img/rating.png"
                    },
];

function renderCartItems(){
    const cartContainer = document.getElementById("cart-items-container");

    if (!cartContainer){
        console.error("Cart items container not found in the html");
        return;
    }

    cartContainer.innerHTML = "";
    
    if(cartItems.length === 0){
        cartContainer.innerHTML = "<p> Your Cart is Empty</p>";
        return;
    }

    cartItems.forEach(item => {
        const cartItemDiv = 
        document.createElement("div");
        cartItemDiv.classList.add("cart-item");
        
        const imageElement = document.createElement("img");
        imageElement.src = item.image;
        imageElement.alt = item.name;
        imageElement.classList.add("item-image");

        const detailsDiv = document.createElement("div");
        detailsDiv.classList.add("item-details");

        const nameElement = document.createElement("h3");
        nameElement.textContent = item.name;

        const priceElement = document.createElement("p");
        priceElement.textContent = `Price: $${item.price.toFixed(2)}`;

        const quantityDiv = document.createElement("div");
        quantityDiv.classList.add("item-quantity");
        quantityDiv.innerHTML = `<label for="quantity-${item.id}">Quantity:</label>
        <input type="number" id="quantity-${item.id}" name="quantity-${item.id}" value="${item.quantity}" min="1">`;

        const removeButton = document.createElement("button");
        removeButton.textContent = "Remove";

        removeButton.addEventListener("click", ()=> removeItemFromCart(item.id));

        detailsDiv.appendChild(nameElement);
        detailsDiv.appendChild(priceElement);
        detailsDiv.appendChild(quantityDiv);

        cartItemDiv.appendChild(imageElement);
        cartItemDiv.appendChild(detailsDiv);
        cartItemDiv.appendChild(removeButton);

        cartContainer.appendChild(cartItemDiv);

        const quantityInput = quantityDiv.querySelector(`#quantity-${item.id}`);
        quantityInput.addEventListener("change", (event) => updateCartItemQuantity(item.id, parseInt(event.target.value)));
    });

    renderCartSummary();

}

function removeItemFromCart(itemId){
    const indexToRemove = cartItems.findIndex(item => item.id === itemId);
    if(indexToRemove > -1){
        cartItems.splice(indexToRemove, 1);
        renderCartItems();
    }
}

function updateCartItemQuantity(itemId, newQuantity){
    const itemToUpdate = cart.find(item => item.id === itemId);
    if(itemToUpdate){
        itemToUpdate.quantitym = newQuantity;
        renderCartItems();
        renderCartSummary();
    }
}

function renderCartSummary(){
    const cartSummaryContainer = document.getElementById("cart-summary-container");

    if(!cartSummaryContainer){
        console.error("Cart Summary container not found in html");
        return;
    }

    let subtotal = 0;
    cartItems.forEach(item =>{
        subtotal += item.price * item.quantity;
    });


cartSummaryContainer.innerHTML = `<h2> Cart Summary</h2>
<p> Subtotal: $${subtotal.toFixed(2)} </p> <p> Total: $${total.toFixed(2)}</p> <button> Checkout</button> `;
}
document.addEventListener("DOMContentLoaded", renderCartItems);

// Initialize cart with proper structure
let cart = JSON.parse(localStorage.getItem('cart') || '{"items":[]}');

// Function to add item to cart
function addToCart(productName, productPrice) {
    console.log(`Adding ${productName} to cart...`);
    
    // Find existing item or add new one
    const existingItem = cart.items.find(item => item.name === productName);
    if (existingItem) {
        existingItem.quantity += 1;
        existingItem.totalPrice += productPrice;
    } else {
        cart.items.push({
            name: productName,
            quantity: 1,
            totalPrice: productPrice
        });
    }
    
    // Save updated cart
    localStorage.setItem('cart', JSON.stringify(cart));
    console.log('Cart saved:', cart);
    
    // Update display
    updateCartDisplay();
}

// Function to update cart display
function updateCartDisplay() {
    const cartItemsDiv = document.getElementById('cartItems');
    cart = JSON.parse(localStorage.getItem('cart') || '{"items":[]}');
    
    // Clear current items
    cartItemsDiv.innerHTML = '';
    
    // Display empty cart message if needed
    if (cart.items.length === 0) {
        cartItemsDiv.innerHTML = '<p>Your cart is empty</p>';
        return;
    }
    
    // Add items to display
    cartItemsDiv.innerHTML += '<ul>';
    cart.items.forEach((item, index) => {
        cartItemsDiv.innerHTML += `
            <li>
                ${item.name}: Quantity: ${item.quantity}
                Total: $${item.totalPrice.toFixed(2)}
                <button onclick="removeFromCart('${item.name}')">Remove</button>
            </li>
        `;
    });
    cartItemsDiv.innerHTML += '</ul>';
}

// Function to remove item from cart
function removeFromCart(productName) {
    console.log(`Removing ${productName} from cart...`);
    cart.items = cart.items.filter(item => item.name !== productName);
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCartDisplay();
}

// Initialize cart display
console.log('Initializing cart...');
updateCartDisplay();
*/
const cartLists = {};
        function addToCart(productName, productPrice) {
            if (cartLists[productName]) {
                cartLists[productName].quantity += 1;
                cartLists[productName].totalPrice += productPrice;
            } else {
                cartLists[productName] = {
                    quantity: 1,
                    totalPrice: productPrice
                };
            }
            updateCartDisplay();
        }
        function updateCartDisplay() {
            const cartList = document.getElementById('cart');
            cartList.innerHTML = '';
            for (let product in cart) {
                const listItem = document.createElement('li');
                listItem.innerText = `${product} - Quantity: ${cartLists[product].quantity} - Total Price: Rs${cartLists[product].totalPrice.toFixed(2)}`;
                cartList.appendChild(listItem);
            }
        }
        