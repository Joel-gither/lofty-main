 
/*import {products} from '../js/products.js';*/

let products = [{
    id:`34k 34k 1`,
    image:`img/mouse.jpg`,
    name: `Wireless Portable HP Mouse`,
    rating:`img/rating.png`,
    price: 25000
},
{
    id:`34k 34k 2`,
    image:`img/speaker1.jpeg`,
    name: ` External Smart Outdoor Speakers`,
    rating:`img/rating.png`,
    price: 500000
},
{
    id:`34k 34k 3`,
    image:`img/pngwing.com (94).png`,
    name: `Toshiba external hard disk drive 500gb`,
    rating:`img/rating.png`,
    price: 50000
},
{
    id:`34k 34k 4`,
    image:`img/pngwing.com (89).png`,
    name: `Samsung refurbished 3150 i5 8gb ram, 500gb hdd`,
    rating:`img/rating.png`,
    price: 750000
},
{
    id:`34k 34k 5`,
    image:`img/copy machine.png`,
    name: `Bizhub 464E series Digital photocopying machine`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 6`,
    image:`img/pngwing.com (3).png`,
    name: `Epson Colored Printer and Black and white`,
    rating:`img/rating.png`,
    price: 2500000
},
{
    id:`34k 34k 7`,
    image:`img/pngwing.com (87).png`,
    name: `Charging adpter with usb type C `,
    rating:`img/rating.png`,
    price: 15000
},
{
    id:`34k 34k 8`,
    image:`img/speaker2.jpeg`,
    name: `Wireless Bluetooth speaker big base`,
    rating:`img/rating.png`,
    price: 250000
},
{
    id:`34k 34k 9`,
    image:`img/syscase.jpg`,
    name: `Dell core i5 1TB`,
    rating:`img/rating.png`,
    price: 8500000
},
{
    id:`34k 34k 10`,
    image:`img/pngwing.com (16).png`,
    name: `smart Watch Multi color wrists`,
    rating:`img/rating.png`,
    price: 30000
},
{
    id:`34k 34k 11`,
    image:`img/pngwing.com (88).png`,
    name: `Dell Intel i7, 16GB RAM, 500GB HDD`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 12`,
    image:`img/pngwing.com (89).png`,
    name: `Samsung Intel i3, 16GB RAM,250GB HDD`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 13`,
    image:`img/pngwing.com (90).png`,
    name: `Full set Duo Core 2, 8GB RAM, 500GB HDD`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 14`,
    image:`img/pngwing.com (7).png`,
    name: `DDR3 DDR2 Ram chips for Dasktop Computer`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 15`,
    image:`img/speaker1.jpeg`,
    name: `High Base out door speakers `,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 16`,
    image:`img/desk.jpg`,
    name: `MAC BOOK MacOS laptop refubished`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 17`,
    image:`img/syscase.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 18`,
    image:`img/pngwing.com (90).png`,
    name: `DELL DESKTOP FULL SET DUO CORE INTEL PROCESSOR`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 19`,
    image:`img/desk1.jpg`,
    name: `SAMSUNG CORE I5, 8GB RAM, 500GB HDD`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 20`,
    image:`img/pngwing.com (89).png`,
    name: `MAC BOOK MacOS laptop refubished`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 21`,
    image:`img/pngwing.com (92).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 22`,
    image:`img/pngwing.com (91).png`,
    name: `DELL DESKTOP FULL SET DUO CORE INTEL PROCESSOR`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 23`,
    image:`img/laptop1.jpg`,
    name: `SAMSUNG CORE I5, 8GB RAM, 500GB HDD`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 24`,
    image:`img/pngwing.com (12).png`,
    name: `MAC BOOK MacOS laptop refubished`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 25`,
    image:`img/pngwing.com (15).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 26`,
    image:`img/pngwing.com (8).png`,
    name: `DELL DESKTOP FULL SET DUO CORE INTEL PROCESSOR`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 27`,
    image:`img/pngwing.com (11).png`,
    name: `SAMSUNG CORE I5, 8GB RAM, 500GB HDD`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 28`,
    image:`img/pngwing.com (17).png`,
    name: `MAC BOOK MacOS laptop refubished`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 29`,
    image:`img/pngwing.com.png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 30`,
    image:`img/gadget.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 31`,
    image:`img/mouse.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 32`,
    image:`img/pngwing.com (4).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 33`,
    image:`img/printer.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 34`,
    image:`img/printer2.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 35`,
    image:`img/printer1.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 36`,
    image:`img/charger.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 37`,
    image:`img/charger1.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 38`,
    image:`img/pngwing.com (87).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 39`,
    image:`img/charger2.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 40`,
    image:`img/pngwing.com (92).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 41`,
    image:`img/pngwing.com (89).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 42`,
    image:`img/pngwing.com (86).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 43`,
    image:`img/pngwing.com (90).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 44`,
    image:`img/pngwing.com (87).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 45`,
    image:`img/pngwing.com (12).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 46`,
    image:`img/pngwing.com (7).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 47`,
    image:`img/pngwing.com (93).png`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 48`,
    image:`img/SAFEBODA.jpg`,
    name: `ASUS ZENBOOK CORE I3, 500GB HDD, 4GB RAM`,
    rating:`img/rating.png`,
    price: 7000000
},
{
    id:`34k 34k 49`,
    image:`img/pngwing.com (89).png`,
    name: `Laptop Samsang 464E series Digital photocopying machine`,
    rating:`img/rating.png`,
    price: 100000
},
{
    id:`34k 34k 50`,
    image:`img/pngwing.com (85).png`,
    name: `Binding Machine 464E series Digital photocopying machine`,
    rating:`img/rating.png`,
    price: 300000
 
}];

// Initialize cart from local storage or an empty array
let cart = JSON.parse(localStorage.getItem('cart')) || [];
// ... (Your existing products array and other functions) ...

// Function to add event listeners to "ADD TO CART" buttons
function setupAddToCartButtons() {
    document.querySelectorAll('.add-to-cart').forEach((button) => {
        button.addEventListener('click', () => {
            const productId = button.dataset.productId;
            addToCart(productId);
        });
    });
}

// Function to add a product to the cart
function addToCart(productId) {
    let matchingItem = cart.find(cartItem => cartItem.productId === productId);

    if (matchingItem) {
        matchingItem.quantity += 1;
    } else {
        cart.push({
            productId: productId,
            quantity: 1
        });
    }

    saveToStorage();
    updateCartQuantity();
    renderCartItems();
}

let productsHTML= '';
products.forEach((product) =>{
    productsHTML += `
<div class="cart-rows">
<div class="tm-home-box-2 " >						
    <img src="${product.image}" alt="image" class="img-responsive2">
    <h3>${product.name}</h3>
    <p class="tm-date">This year 2025
        <br><span class="cart-price">UGX ${product.price} </span><br><del> UGX 30,000</del></p>
    <div class="tm-home-box-2-container">
            
        <span><button class="add-to-cart" data-product-id="${product.id}">ADD TO CART</button></span>
            
    </div>
</div>
</div>`;
});

//index items
document.querySelector('.js-product-grid').innerHTML = productsHTML;

// Call the function to set up the event listeners
setupAddToCartButtons();


// Function to update the cart quantity displayed in the header
function updateCartQuantity() {
    let cartQuantity = cart.reduce((total, cartItem) => total + cartItem.quantity, 0);
    document.querySelector('.cart-quantity').textContent = cartQuantity;
    document.getElementById('number').textContent = cartQuantity;

}

// Function to save the cart to local storage
function saveToStorage() {
    localStorage.setItem('cart', JSON.stringify(cart));
}

// Function to remove a product from the cart
function removeFromCart(productId) {
    cart = cart.filter(cartItem => cartItem.productId !== productId);
    saveToStorage();
    updateCartQuantity();
    renderCartItems();
}

// Function to change the quantity of an item in the cart
function changeQuantity(productId, newQuantity) {
    let cartItem = cart.find(item => item.productId === productId);
    if (cartItem) {
        cartItem.quantity = newQuantity;
        saveToStorage();
        updateCartQuantity();
        updateCartTotal();
    }
}

// Function to update the total price displayed in the cart
function updateCartTotal() {
    let total = 0;
    cart.forEach((cartItem) => {
        const product = products.find((p) => p.id === cartItem.productId);
        if (product) {
            total += product.price * cartItem.quantity;
        }
    });

    document.querySelector('.cart-total-price').textContent = `UGX ${total.toLocaleString()}`;
}

// Function to render the cart items on the page
function renderCartItems() {
    let cartSummaryHTML = '';

    cart.forEach((cartItem) => {
        const product = products.find((p) => p.id === cartItem.productId);
        if (product) {
            cartSummaryHTML += `
                <div class="cartsub js-cart-item-container-${product.id}">
                    <div class="cartitem">
                        <img src="${product.image}" alt="${product.name}" class="cartimg">
                        <div class="desc">
                            <p id="cartdescription">${product.name}</p>
                            <h3 class="cart-price">UGX ${product.price.toLocaleString()}</h3>
                            <input type="number" value="${cartItem.quantity}" min="1" class="cart-quantity-input" data-product-id="${product.id}">
                        </div>
                    </div>
                    <div class="reducecart">
                        <a href="#" class="rem" data-product-id="${product.id}">Remove</a>
                    </div>
                    
                </div>
            `;
        }
    });

    document.querySelector('.cartItems').innerHTML = cartSummaryHTML;

    // Add event listeners to the remove buttons
    document.querySelectorAll('.rem').forEach((link) => {
        link.addEventListener('click', (event) => {
            event.preventDefault(); // Prevent the default link behavior
            const productId = link.dataset.productId;
            removeFromCart(productId);
        });
    });

    // Add event listeners to the quantity inputs
    document.querySelectorAll('.cart-quantity-input').forEach((input) => {
        input.addEventListener('change', (event) => {
            let newQuantity = parseInt(event.target.value);
            const productId = input.dataset.productId;
            if (isNaN(newQuantity) || newQuantity <= 0) {
                newQuantity = 1;
                event.target.value = newQuantity
            }
            changeQuantity(productId, newQuantity);
        });
    });

    updateCartTotal();
}



// Display the cart items on page load
renderCartItems();
updateCartQuantity()


// Add this to your campus-script.js or a separate JS file

$(document).ready(function () {
    $(".dropdown-toggle").click(function (e) {
      e.preventDefault(); // Prevent the default link behavior
      $(this).next(".dropdown-menu").toggle();
    });
  
    // Close the dropdown if the user clicks outside of it
    $(document).click(function (event) {
      if (!$(event.target).closest(".dropdown").length) {
        $(".dropdown-menu").hide();
      }
    });
  });
  
             

